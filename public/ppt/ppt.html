<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/imagenes/cards.png" type="image/x-icon">
    <link rel="stylesheet" href="estilos/juego.css">
    <title>Juego-Memoria</title>
</head>
<body>
    <center>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Instrucciones</h1>
                    </div>
                    <div class="modal-body">
                        <h3>Tienes UN movimiento por turno. Tu rival no sabr√° qu√© bot√≥n tocaste, ni t√∫ sabr√°s cu√°l toc√≥ √©l (¬øs√≠ sabes jugar a Piedra, Papel y Tijeras, verdad?).</h3>
                        <h2>Suerte! üòé</h2>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn botones" data-bs-dismiss="modal">Entendido!</button>
                    </div>
                </div>
            </div>
        </div>
        <h1>PIEDRA, PAPEL Y TIJERAS</h1>
        <div id="juego" class="juego">
            <div class="info">
                <h4>Puntos: <span id="puntos"></span></h4>
            </div>
            <div id="carcasa" class="carcasa">
                <button data-jugada="Piedra" class="ficha">
                    <!--<h2>ü™®</h2>-->
                    <img src="assets/imagenes/stone-rock-svgrepo-com.svg" alt="Piedra">
                </button>
                <button data-jugada="Tijeras" class="ficha">
                    <!--<h2>üìÑ</h2>-->
                    <img src="assets/imagenes/scissors-svgrepo-com.svg" alt="Tijeras">
                </button>
                <button data-jugada="Papel" class="ficha">
                    <!--<h2>‚úÇÔ∏è</h2>-->
                    <img src="assets/imagenes/paper-svgrepo-com.svg" alt="Papel">
                </button>
                <div id="ganador" class="ganador"><img src="assets/emoji-nerd-svgrepo-com.svg" alt="ganador"></div>
                <div id="perdedor" class="perdedor"><img src="assets/emoji-sick-svgrepo-com.svg" alt="perdedor"></div>
            </div>
            <div class="information" id="information">
                <div class="info">
                    <h4>Esperando oponente: <span id="estado"></span></h4>
                </div>
                <div class="info">
                    <h4>Resultado: <span id="resultado"></span></h4>
                </div>
                <div class="info">
                    <h4>Selecciona una opci√≥n: <span id="movimiento"></span></h4>
                </div>
                <button id="comenzar" class="comenzar" data-bs-toggle="modal" data-bs-target="#exampleModal">Comenzar</button>
                <button id="repetir" class="botones">Reiniciar</button>
                <button id="inicio" class="botones">Inicio</button>
            </div>
        </div>
    </center>

    <!--<script>
        let url = './memoria2.html';
        let mazoDeCartas = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6];

        const CONFIG = {
            segundos: 0,
            movimientos: 24,
            puntosPorAcierto: 100,
            cantidadDeCartas: mazoDeCartas,
            textoNivelSiguiente: 'Nivel 2',
            urlNivelSiguiente: url,
            aciertos: 6,
        }
    </script>-->
    <script src="/socket.io/socket.io.js"></script>
    <!--<script>
        const socket = io();
        const botones = document.querySelectorAll('button[data-jugada]');
        //const carcasa = document.getElementById('carcasa'); // Parte del hechizo simple
        let yaJugo = false;

        botones.forEach(boton =>{
            boton.addEventListener('click', () =>{
                if(yaJugo) return;

                yaJugo = true;

                const eleccion = boton.dataset.jugada;
                //carcasa.style.display = 'none'; // HECHIZO SIMPLE

                //console.log('Eleg√≠: ', eleccion);
                socket.emit('jugada', eleccion);

                botones.forEach(b => b.disabled = true);
            });
        });

        socket.on('resultado', (data) =>{
            console.log('resultado', data);

            console.log(`T√∫: ${data.tuJugada}\n` + `Rival: ${data.rival}\n\n` + `${data.resultado}`);

            alert(data.resultado);

            yaJugo = false;
            botones.forEach(b => b.disabled = false);
        });

        /*
        const form = document.getElementById('form');
        const input = document.getElementById('input');

        form.addEventListener('submit', (e) =>{
            e.preventDefault();
            if(input.value){
                socket.emit('chat message', input.value);
                input.value = '';
            }
        });*/
    </script>-->
    <script src="logica/juego.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>